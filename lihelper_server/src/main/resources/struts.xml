<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
   <package name="lihelper-api" extends="struts-default" namespace="/">
       <result-types>
             <result-type name="actionResult" class="actionResult"/>
       </result-types>
	   
       <interceptors>
      		 <interceptor name="clientAwareInterceptor" class="clientAwareInterceptor"/>          
             <interceptor-stack name="defaultStack">
                <interceptor-ref name="exception">
	                <param name="logEnabled">true</param>  
	                <param name="logLevel">debug</param> 
	                <!--<param name="logLevel">${log4j.root.logger.level}</param> -->
	             </interceptor-ref> 
                <interceptor-ref name="prepare"/>
                <interceptor-ref name="staticParams"/>
                <interceptor-ref name="actionMappingParams"/>
                <interceptor-ref name="params">
                  <param name="excludeParams">dojo\..*,^struts\..*</param>
                </interceptor-ref>
                <interceptor-ref name="conversionError"/>
                <interceptor-ref name="clientAwareInterceptor"/>
             </interceptor-stack>
       </interceptors>
       <default-interceptor-ref name="defaultStack"/>

	   <global-results>
	   		<result name="commonError" type="actionResult"/>
	   </global-results>
	</package>

   <package name="lihelper-web" extends="struts-default" namespace="/" abstract="true">
       <result-types>
          <result-type name="velocity" class="org.apache.struts2.dispatcher.VelocityResult" default="true"/>
       </result-types>
	</package>
	
    <package name="api" extends="lihelper-api" namespace="/">
		<action name="callback.action" class="proxyAction" method="execute">
		    <result type="actionResult"></result>
		</action>
	</package>
    <package name="web" extends="lihelper-web" namespace="/">
		<action name="getvminfo.action" class="getVmInfoAction" method="execute">
		    <result type="velocity" name="success">template/client.vm</result >
		</action>
	</package>
</struts>
